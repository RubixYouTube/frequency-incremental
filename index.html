<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hertz Incremental - v0.4.2a</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/gh/Patashu/break_eternity.js@master/break_eternity.min.js"></script>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      transition: background-color 0.3s ease, color 0.3s ease;
    }

    .tab {
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .tab::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: left 0.5s ease;
    }

    .tab:hover::before {
      left: 100%;
    }

    .tab:hover {
      transform: translateX(5px);
      box-shadow: 0 0 20px rgba(255,255,255,0.3);
    }

    .popup,
    .popup2,
    .popup3,
    .popup-theme,
    .popup-infinity {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 450px;
      padding: 25px;
      display: none;
      flex-direction: column;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.8);
      opacity: 0;
      transition: opacity 0.3s ease;
      backdrop-filter: blur(15px);
      z-index: 1000;
      border: 2px solid rgba(255,255,255,0.3);
      background: rgba(0, 0, 0, 0.9);
    }

    .popup.visible,
    .popup2.visible,
    .popup3.visible,
    .popup-theme.visible,
    .popup-infinity.visible {
      display: flex;
      opacity: 1;
    }

    .popup {
      width: 400px;
      padding: 20px;
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .popup-infinity {
      width: 700px;
      height: 400px;
      background: #000;
      border-color: #8b5cf6;
      justify-content: center;
      align-items: center;
    }

    .typing-text {
      font-size: 1.3rem;
      line-height: 1.8;
      color: #a78bfa;
      text-align: center;
      margin-bottom: 30px;
      min-height: 200px;
    }

    .popup3 {
      animation: flash 1s ease-in-out infinite;
    }

    @keyframes flash {
      0%, 100% { border-color: #ef4444; box-shadow: 0 0 30px rgba(239, 68, 68, 0.5); }
      50% { border-color: #f97316; box-shadow: 0 0 30px rgba(249, 115, 22, 0.5); }
    }

    .achievement {
      background: linear-gradient(135deg, #064e3b 0%, #065f46 100%);
      border: 2px solid #10b981;
      width: 100%;
      padding: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 10px;
      margin-top: 15px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0,0,0,0.3);
      font-size: 1.2rem;
      font-weight: bold;
    }

    .achievement.completed {
      background: linear-gradient(135deg, #10b981 0%, #34d399 100%);
      color: #000;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.02); }
    }

    .upgrade-card {
      background: rgba(255,255,255,0.05);
      border: 2px solid rgba(255,255,255,0.2);
      border-radius: 15px;
      padding: 20px;
      margin: 10px 0;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .upgrade-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      border-color: rgba(255,255,255,0.5);
    }

    .upgrade-btn {
      padding: 12px 24px;
      border: 2px solid;
      border-radius: 10px;
      font-weight: bold;
      transition: all 0.3s ease;
      cursor: pointer;
      background: rgba(255,255,255,0.1);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .upgrade-btn:hover:not(:disabled) {
      transform: scale(1.05);
      box-shadow: 0 0 20px currentColor;
    }

    .upgrade-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .theme-btn {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      border: 3px solid #fff;
      margin: 10px;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
    }

    .theme-btn:hover {
      transform: scale(1.2);
      box-shadow: 0 0 20px currentColor;
    }

    .theme-btn.active::after {
      content: '✓';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 30px;
      color: #fff;
      text-shadow: 0 0 10px #000;
    }

    .stat-display {
      background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%);
      border-radius: 15px;
      padding: 30px;
      margin: 20px 0;
      border: 2px solid rgba(255,255,255,0.2);
      box-shadow: 0 8px 16px rgba(0,0,0,0.3);
    }

    .prestige-btn {
      background: linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%);
      border: 3px solid #a78bfa;
      padding: 20px 40px;
      border-radius: 15px;
      font-size: 1.5rem;
      font-weight: bold;
      color: #fff;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 2px;
      box-shadow: 0 10px 30px rgba(139, 92, 246, 0.4);
    }

    .prestige-btn:hover:not(:disabled) {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(139, 92, 246, 0.6);
    }

    .prestige-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%);
    }

    .version {
      position: fixed;
      bottom: 10px;
      left: 10px;
      color: rgba(255, 255, 255, 0.5);
      text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
      font-size: 0.9rem;
    }

    .hidden {
      display: none !important;
    }

    .grid-upgrades {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    /* Theme backgrounds and text colors */
    .theme-red { 
      background: linear-gradient(135deg, #7f1d1d 0%, #991b1b 100%); 
      color: #fca5a5;
    }
    .theme-red .text-primary { color: #ef4444 !important; }
    .theme-red .text-secondary { color: #fca5a5 !important; }
    
    .theme-orange { 
      background: linear-gradient(135deg, #7c2d12 0%, #9a3412 100%); 
      color: #fdba74;
    }
    .theme-orange .text-primary { color: #f97316 !important; }
    .theme-orange .text-secondary { color: #fdba74 !important; }
    
    .theme-yellow { 
      background: linear-gradient(135deg, #713f12 0%, #854d0e 100%); 
      color: #fde047;
    }
    .theme-yellow .text-primary { color: #eab308 !important; }
    .theme-yellow .text-secondary { color: #fde047 !important; }
    
    .theme-green { 
      background: linear-gradient(135deg, #14532d 0%, #166534 100%); 
      color: #86efac;
    }
    .theme-green .text-primary { color: #22c55e !important; }
    .theme-green .text-secondary { color: #86efac !important; }
    
    .theme-blue { 
      background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%); 
      color: #93c5fd;
    }
    .theme-blue .text-primary { color: #3b82f6 !important; }
    .theme-blue .text-secondary { color: #93c5fd !important; }
    
    .theme-purple { 
      background: linear-gradient(135deg, #581c87 0%, #6b21a8 100%); 
      color: #d8b4fe;
    }
    .theme-purple .text-primary { color: #a855f7 !important; }
    .theme-purple .text-secondary { color: #d8b4fe !important; }
    
    .theme-pink { 
      background: linear-gradient(135deg, #831843 0%, #9f1239 100%); 
      color: #fbcfe8;
    }
    .theme-pink .text-primary { color: #ec4899 !important; }
    .theme-pink .text-secondary { color: #fbcfe8 !important; }
    
    .theme-brown { 
      background: linear-gradient(135deg, #3e2723 0%, #4e342e 100%); 
      color: #d7ccc8;
    }
    .theme-brown .text-primary { color: #a1887f !important; }
    .theme-brown .text-secondary { color: #d7ccc8 !important; }
    
    .theme-black { 
      background: linear-gradient(135deg, #000000 0%, #1a1a1a 100%); 
      color: #e5e5e5;
    }
    .theme-black .text-primary { color: #ffffff !important; }
    .theme-black .text-secondary { color: #d1d5db !important; }
    
    .theme-white { 
      background: linear-gradient(135deg, #e5e5e5 0%, #f5f5f5 100%); 
      color: #1a1a1a;
    }
    .theme-white .text-primary { color: #000000 !important; }
    .theme-white .text-secondary { color: #374151 !important; }
    .theme-white .stat-display,
    .theme-white .upgrade-card {
      background: rgba(0,0,0,0.05);
      border-color: rgba(0,0,0,0.2);
    }

    .scrollable-content {
      max-height: calc(100vh - 100px);
      overflow-y: auto;
      padding-right: 10px;
    }

    .scrollable-content::-webkit-scrollbar {
      width: 10px;
    }

    .scrollable-content::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.1);
      border-radius: 10px;
    }

    .scrollable-content::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.3);
      border-radius: 10px;
    }

    .scrollable-content::-webkit-scrollbar-thumb:hover {
      background: rgba(255,255,255,0.5);
    }

    .nerf-indicator {
      background: rgba(255, 0, 0, 0.2);
      border: 2px solid #ff0000;
      padding: 10px;
      border-radius: 10px;
      margin-top: 10px;
      font-weight: bold;
    }

    @keyframes glitch {
      0% { transform: translate(0); }
      20% { transform: translate(-2px, 2px); }
      40% { transform: translate(-2px, -2px); }
      60% { transform: translate(2px, 2px); }
      80% { transform: translate(2px, -2px); }
      100% { transform: translate(0); }
    }

    .infinity-text {
      background: linear-gradient(90deg, #8b5cf6, #ec4899, #8b5cf6);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient 3s ease infinite;
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
  </style>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // Game State
      let gameState = {
        hz: new Decimal(0),
        hzPerSec: new Decimal(1),
        
        // Hz Upgrades
        upgrade1Level: new Decimal(0),
        upgrade1Cost: new Decimal(7),
        upgrade2Level: new Decimal(0),
        upgrade2Cost: new Decimal(100),
        upgrade3Level: new Decimal(0),
        upgrade3Cost: new Decimal(500),
        upgrade4Level: new Decimal(0),
        upgrade4Cost: new Decimal(2500),
        upgrade5Level: new Decimal(0),
        upgrade5Cost: new Decimal(10000),
        upgrade6Level: new Decimal(0),
        upgrade6Cost: new Decimal(50000),
        
        // Volume (Prestige 1)
        volume: new Decimal(0),
        volumeUnlocked: false,
        volumeUpgrade1: new Decimal(0),
        volumeUpgrade2: new Decimal(0),
        volumeUpgrade3: new Decimal(0),
        volumeUpgrade4: new Decimal(0),
        volumeUpgrade5: new Decimal(0),
        volumeUpgrade6: new Decimal(0),
        
        // Speakers (Prestige 2)
        speakers: new Decimal(0),
        speakersUnlocked: false,
        speakerUpgrade1: new Decimal(0),
        speakerUpgrade2: new Decimal(0),
        speakerUpgrade3: new Decimal(0),
        speakerUpgrade4: new Decimal(0),
        speakerUpgrade5: new Decimal(0),
        speakerUpgrade6: new Decimal(0),
        speakerUpgrade7: new Decimal(0),
        
        // Infinity (Prestige 3)
        infinity: new Decimal(0),
        infinityUnlocked: false,
        infinityUpgrade1: new Decimal(0),
        infinityUpgrade2: new Decimal(0),
        infinityUpgrade3: new Decimal(0),
        infinityUpgrade4: new Decimal(0),
        infinityUpgrade5: new Decimal(0),
        infinityUpgrade6: new Decimal(0),
        infinityUpgrade7: new Decimal(0),
        infinityUpgrade8: new Decimal(0),
        infinityUpgrade9: new Decimal(0),
        infinityUpgrade10: new Decimal(0),
        infinityUpgrade11: new Decimal(0),
        infinityUpgrade12: new Decimal(0),
        infinityUpgrade13: new Decimal(0),
        infinityUpgrade14: new Decimal(0),
        
        // Achievements
        achievements: {
          ach1: false,
          ach2: false,
          ach3: false,
          ach4: false,
          ach5: false,
          ach6: false,
          ach7: false,
        },
        
        // Settings
        theme: 'black',
      };

      // Load saved game
      const savedData = localStorage.getItem('hzGameSave');
      if (savedData) {
        try {
          const parsed = JSON.parse(savedData);
          Object.keys(parsed).forEach(key => {
            if (key === 'achievements') {
              gameState.achievements = parsed.achievements;
            } else if (key === 'theme') {
              gameState.theme = parsed.theme;
            } else if (typeof gameState[key] !== 'undefined') {
              gameState[key] = new Decimal(parsed[key]);
            }
          });
        } catch (e) {
          console.error('Failed to load save:', e);
        }
      }

      // Apply theme
      applyTheme(gameState.theme);

      // Softcap function
      function softcap(value, start, power) {
        value = new Decimal(value);
        start = new Decimal(start);
        if (value.lte(start)) return value;
        return value.div(start).pow(power).times(start);
      }

      // Calculate volume gain nerfs
      function getVolumeNerfMultiplier() {
        let mult = new Decimal(1);
        const vol = gameState.volume;
        
        // Nerf 1: At 1000 Volume
        if (vol.gte(1000)) {
          mult = mult.times(0.5);
        }
        
        // Nerf 2: At 10000 Volume
        if (vol.gte(10000)) {
          mult = mult.times(0.25);
        }
        
        // Nerf 3: At 100000 Volume
        if (vol.gte(100000)) {
          mult = mult.times(0.1);
        }
        
        // Nerf 4: At 1M Volume
        if (vol.gte(1000000)) {
          mult = mult.times(0.05);
        }
        
        // Nerf 5: At 10M Volume
        if (vol.gte(10000000)) {
          mult = mult.times(0.01);
        }
        
        return mult;
      }

      // Calculate speaker gain nerfs
      function getSpeakerNerfMultiplier() {
        let mult = new Decimal(1);
        const spk = gameState.speakers;
        
        // Nerf 1: At 100 Speakers
        if (spk.gte(100)) {
          mult = mult.times(0.5);
        }
        
        // Nerf 2: At 500 Speakers
        if (spk.gte(500)) {
          mult = mult.times(0.3);
        }
        
        // Nerf 3: At 2000 Speakers
        if (spk.gte(2000)) {
          mult = mult.times(0.15);
        }
        
        // Nerf 4: At 10000 Speakers
        if (spk.gte(10000)) {
          mult = mult.times(0.05);
        }
        
        // Nerf 5: At 50000 Speakers
        if (spk.gte(50000)) {
          mult = mult.times(0.01);
        }
        
        return mult;
      }

      // Calculate Hz per second with better formulas
      function calculateHzPerSec() {
        let base = new Decimal(1);
        
        // Upgrade 1: Softcapped at level 100
        let u1Effect = Decimal.pow(2, softcap(gameState.upgrade1Level, 100, 0.5));
        base = base.times(u1Effect);
        
        // Upgrade 2: Softcapped at level 80
        let u2Effect = Decimal.pow(1.25, softcap(gameState.upgrade2Level, 80, 0.6));
        base = base.times(u2Effect);
        
        // Upgrade 3: Softcapped at level 60
        let u3Effect = Decimal.pow(1.5, softcap(gameState.upgrade3Level, 60, 0.55));
        base = base.times(u3Effect);
        
        // Upgrade 4: Softcapped at level 50
        let u4Effect = Decimal.pow(2, softcap(gameState.upgrade4Level, 50, 0.5));
        base = base.times(u4Effect);
        
        // Upgrade 5: Softcapped at level 40
        let u5Effect = Decimal.pow(3, softcap(gameState.upgrade5Level, 40, 0.45));
        base = base.times(u5Effect);
        
        // Upgrade 6: Softcapped at level 30
        let u6Effect = Decimal.pow(5, softcap(gameState.upgrade6Level, 30, 0.4));
        base = base.times(u6Effect);
        
        // Volume boost
        if (gameState.volumeUnlocked) {
          let volumeBoost = gameState.volume.plus(1).pow(0.8); // Root scaling
          
          // Volume upgrades
          if (gameState.volumeUpgrade1.gt(0)) {
            volumeBoost = volumeBoost.times(Decimal.pow(1.5, softcap(gameState.volumeUpgrade1, 20, 0.5)));
          }
          if (gameState.volumeUpgrade3.gt(0)) {
            base = base.times(Decimal.pow(2, softcap(gameState.volumeUpgrade3, 15, 0.5)));
          }
          if (gameState.volumeUpgrade5.gt(0)) {
            base = base.times(gameState.hz.plus(1).log10().plus(1).pow(gameState.volumeUpgrade5.times(0.05)));
          }
          
          base = base.times(volumeBoost);
        }
        
        // Speaker boost
        if (gameState.speakersUnlocked) {
          let speakerBoost = gameState.speakers.plus(1).pow(1.5); // Reduced from ^2
          
          // Speaker upgrades
          if (gameState.speakerUpgrade1.gt(0)) {
            speakerBoost = speakerBoost.times(Decimal.pow(2, softcap(gameState.speakerUpgrade1, 10, 0.5)));
          }
          if (gameState.speakerUpgrade3.gt(0)) {
            base = base.times(Decimal.pow(3, softcap(gameState.speakerUpgrade3, 8, 0.5)));
          }
          if (gameState.speakerUpgrade5.gt(0)) {
            base = base.times(gameState.volume.plus(1).pow(gameState.speakerUpgrade5.times(0.3)));
          }
          if (gameState.speakerUpgrade7.gt(0)) {
            base = base.times(Decimal.pow(10, softcap(gameState.speakerUpgrade7, 5, 0.4)));
          }
          
          base = base.times(speakerBoost);
        }
        
        // Infinity boost
        if (gameState.infinityUnlocked) {
          let infinityBoost = gameState.infinity.plus(1).pow(3);
          
          // Infinity upgrades
          if (gameState.infinityUpgrade1.gt(0)) {
            base = base.times(Decimal.pow(10, gameState.infinityUpgrade1));
          }
          if (gameState.infinityUpgrade3.gt(0)) {
            base = base.times(gameState.infinity.plus(1).pow(gameState.infinityUpgrade3.times(0.5)));
          }
          if (gameState.infinityUpgrade5.gt(0)) {
            base = base.times(Decimal.pow(2, gameState.infinityUpgrade5.times(gameState.speakers.plus(1).log10())));
          }
          if (gameState.infinityUpgrade7.gt(0)) {
            base = base.times(gameState.hz.plus(10).log10().pow(gameState.infinityUpgrade7.times(0.5)));
          }
          if (gameState.infinityUpgrade9.gt(0)) {
            base = base.times(Decimal.pow(100, gameState.infinityUpgrade9));
          }
          if (gameState.infinityUpgrade11.gt(0)) {
            base = base.times(gameState.volume.plus(1).times(gameState.speakers.plus(1)).pow(gameState.infinityUpgrade11.times(0.2)));
          }
          if (gameState.infinityUpgrade13.gt(0)) {
            base = base.times(Decimal.pow(1000, gameState.infinityUpgrade13));
          }
          
          base = base.times(infinityBoost);
        }
        
        // Final softcap at e100
        if (base.gte("1e100")) {
          base = softcap(base, new Decimal("1e100"), 0.75);
        }
        
        return base;
      }

      // Calculate volume gain
      function calculateVolumeGain() {
        let base = gameState.hz.div(1000000).pow(0.4).floor(); // Nerfed formula
        
        // Volume upgrade 2: increase volume gain
        if (gameState.volumeUpgrade2.gt(0)) {
          base = base.times(Decimal.pow(2, softcap(gameState.volumeUpgrade2, 10, 0.5)));
        }
        
        // Speaker upgrade 2: boost volume gain
        if (gameState.speakerUpgrade2.gt(0)) {
          base = base.times(Decimal.pow(1.5, softcap(gameState.speakerUpgrade2, 8, 0.5)));
        }
        
        // Speaker upgrade 4: massive volume boost
        if (gameState.speakerUpgrade4.gt(0)) {
          base = base.times(gameState.speakers.plus(1).pow(gameState.speakerUpgrade4.times(0.5)));
        }
        
        // Infinity boost
        if (gameState.infinityUpgrade2.gt(0)) {
          base = base.times(Decimal.pow(5, gameState.infinityUpgrade2));
        }
        if (gameState.infinityUpgrade6.gt(0)) {
          base = base.times(gameState.infinity.plus(1).pow(gameState.infinityUpgrade6));
        }
        if (gameState.infinityUpgrade10.gt(0)) {
          base = base.times(Decimal.pow(50, gameState.infinityUpgrade10));
        }
        
        // Apply nerfs
        base = base.times(getVolumeNerfMultiplier());
        
        return base.floor();
      }

      // Calculate speaker gain
      function calculateSpeakerGain() {
        let base = gameState.volume.div(100).pow(0.35).floor(); // Nerfed formula
        
        // Speaker upgrade 6: boost speaker gain
        if (gameState.speakerUpgrade6.gt(0)) {
          base = base.times(Decimal.pow(2, softcap(gameState.speakerUpgrade6, 6, 0.5)));
        }
        
        // Infinity boost
        if (gameState.infinityUpgrade4.gt(0)) {
          base = base.times(Decimal.pow(10, gameState.infinityUpgrade4));
        }
        if (gameState.infinityUpgrade8.gt(0)) {
          base = base.times(gameState.infinity.plus(1).pow(gameState.infinityUpgrade8.times(0.75)));
        }
        if (gameState.infinityUpgrade12.gt(0)) {
          base = base.times(Decimal.pow(25, gameState.infinityUpgrade12));
        }
        
        // Apply nerfs
        base = base.times(getSpeakerNerfMultiplier());
        
        return base.floor();
      }

      // Calculate infinity gain
      function calculateInfinityGain() {
        if (gameState.hz.lt("1e308")) return new Decimal(0);
        
        let base = gameState.hz.log10().div(308).pow(0.5).floor();
        
        if (gameState.infinityUpgrade14.gt(0)) {
          base = base.times(Decimal.pow(2, gameState.infinityUpgrade14));
        }
        
        return base.floor();
      }

      // Format number
      function formatNumber(num, decimals = 2) {
        num = new Decimal(num);
        if (num.lt(1000)) return num.toFixed(0);
        if (num.lt(1000000)) return num.toFixed(decimals);
        
        if (num.lt("1e9")) {
          const abbrev = ['', 'K', 'M', 'B'];
          const exp = Math.floor(num.e / 3);
          const mantissa = num.div(Decimal.pow(10, exp * 3));
          return mantissa.toFixed(decimals) + abbrev[exp];
        }
        
        return num.mantissa.toFixed(decimals) + 'e' + num.e;
      }

      // Update display
      function updateDisplay() {
        gameState.hzPerSec = calculateHzPerSec();
        
        // Hz display
        document.getElementById('hz-display').textContent = formatNumber(gameState.hz) + ' Hz';
        document.getElementById('gain-display').textContent = formatNumber(gameState.hzPerSec) + ' Hz/s';
        
        // Upgrade costs
        updateUpgradeButton('upgrade1', gameState.upgrade1Cost, gameState.upgrade1Level);
        updateUpgradeButton('upgrade2', gameState.upgrade2Cost, gameState.upgrade2Level);
        updateUpgradeButton('upgrade3', gameState.upgrade3Cost, gameState.upgrade3Level);
        updateUpgradeButton('upgrade4', gameState.upgrade4Cost, gameState.upgrade4Level);
        updateUpgradeButton('upgrade5', gameState.upgrade5Cost, gameState.upgrade5Level);
        updateUpgradeButton('upgrade6', gameState.upgrade6Cost, gameState.upgrade6Level);
        
        // Volume
        if (gameState.volumeUnlocked) {
          document.getElementById('tab-volume').classList.remove('hidden');
          document.getElementById('volume-display').textContent = formatNumber(gameState.volume);
          const volumeBoost = gameState.volume.plus(1).pow(0.8);
          document.getElementById('volume-boost').textContent = formatNumber(volumeBoost, 2) + 'x';
          
          updateVolumeUpgrade('vol-up1', new Decimal(10).times(Decimal.pow(5, gameState.volumeUpgrade1)), gameState.volumeUpgrade1);
          updateVolumeUpgrade('vol-up2', new Decimal(25).times(Decimal.pow(10, gameState.volumeUpgrade2)), gameState.volumeUpgrade2);
          updateVolumeUpgrade('vol-up3', new Decimal(50).times(Decimal.pow(20, gameState.volumeUpgrade3)), gameState.volumeUpgrade3);
          updateVolumeUpgrade('vol-up4', new Decimal(100).times(Decimal.pow(50, gameState.volumeUpgrade4)), gameState.volumeUpgrade4);
          updateVolumeUpgrade('vol-up5', new Decimal(250).times(Decimal.pow(100, gameState.volumeUpgrade5)), gameState.volumeUpgrade5);
          updateVolumeUpgrade('vol-up6', new Decimal(500).times(Decimal.pow(250, gameState.volumeUpgrade6)), gameState.volumeUpgrade6);
          
          // Show volume nerfs
          updateNerfDisplay('volume-nerfs', getVolumeNerfMultiplier());
        }
        
        // Speakers
        if (gameState.speakersUnlocked) {
          document.getElementById('tab-speakers').classList.remove('hidden');
          document.getElementById('speakers-display').textContent = formatNumber(gameState.speakers);
          const speakerBoost = gameState.speakers.plus(1).pow(1.5);
          document.getElementById('speakers-boost').textContent = formatNumber(speakerBoost, 2) + 'x';
          
          updateSpeakerUpgrade('spk-up1', new Decimal(5).times(Decimal.pow(10, gameState.speakerUpgrade1)), gameState.speakerUpgrade1);
          updateSpeakerUpgrade('spk-up2', new Decimal(10).times(Decimal.pow(25, gameState.speakerUpgrade2)), gameState.speakerUpgrade2);
          updateSpeakerUpgrade('spk-up3', new Decimal(20).times(Decimal.pow(50, gameState.speakerUpgrade3)), gameState.speakerUpgrade3);
          updateSpeakerUpgrade('spk-up4', new Decimal(50).times(Decimal.pow(100, gameState.speakerUpgrade4)), gameState.speakerUpgrade4);
          updateSpeakerUpgrade('spk-up5', new Decimal(100).times(Decimal.pow(200, gameState.speakerUpgrade5)), gameState.speakerUpgrade5);
          updateSpeakerUpgrade('spk-up6', new Decimal(250).times(Decimal.pow(500, gameState.speakerUpgrade6)), gameState.speakerUpgrade6);
          updateSpeakerUpgrade('spk-up7', new Decimal(1000).times(Decimal.pow(1000, gameState.speakerUpgrade7)), gameState.speakerUpgrade7);
          
          // Show speaker nerfs
          updateNerfDisplay('speaker-nerfs', getSpeakerNerfMultiplier());
        }
        
        // Infinity
        if (gameState.infinityUnlocked) {
          document.getElementById('tab-infinity').classList.remove('hidden');
          document.getElementById('infinity-display').textContent = formatNumber(gameState.infinity);
          const infinityBoost = gameState.infinity.plus(1).pow(3);
          document.getElementById('infinity-boost').textContent = formatNumber(infinityBoost, 2) + 'x';
          
          // Update all infinity upgrades
          for (let i = 1; i <= 14; i++) {
            updateInfinityUpgrade(`inf-up${i}`, 
              new Decimal(i).times(Decimal.pow(i * 5, gameState[`infinityUpgrade${i}`])), 
              gameState[`infinityUpgrade${i}`]);
          }
        }
        
        // Prestige buttons
        const volumeGain = calculateVolumeGain();
        const speakerGain = calculateSpeakerGain();
        const infinityGain = calculateInfinityGain();
        
        document.getElementById('volume-gain-display').textContent = formatNumber(volumeGain);
        document.getElementById('speaker-gain-display').textContent = formatNumber(speakerGain);
        
        const volumeBtn = document.getElementById('prestige-volume-btn');
        const speakerBtn = document.getElementById('prestige-speaker-btn');
        
        volumeBtn.disabled = volumeGain.lt(1);
        if (!gameState.volumeUnlocked) {
          volumeBtn.disabled = gameState.hz.lt(1000000);
        }
        
        if (gameState.volumeUnlocked) {
          document.getElementById('speaker-prestige-section').classList.remove('hidden');
          speakerBtn.disabled = speakerGain.lt(1);
          if (!gameState.speakersUnlocked) {
            speakerBtn.disabled = gameState.volume.lt(100);
          }
        }
        
        // Check for infinity trigger
        if (gameState.hz.gte("1e308") && !gameState.infinityUnlocked) {
          triggerInfinity();
        }
        
        checkAchievements();
      }

      function updateNerfDisplay(id, mult) {
        const el = document.getElementById(id);
        if (mult.lt(1)) {
          el.classList.remove('hidden');
          const percent = mult.times(100).toFixed(2);
          el.textContent = `⚠️ EXTREME NERF ACTIVE: Gain reduced to ${percent}%`;
        } else {
          el.classList.add('hidden');
        }
      }

      function updateUpgradeButton(id, cost, level) {
        const btn = document.getElementById(id + '-btn');
        const costEl = document.getElementById(id + '-cost');
        const levelEl = document.getElementById(id + '-level');
        
        costEl.textContent = formatNumber(cost);
        levelEl.textContent = formatNumber(level);
        btn.disabled = gameState.hz.lt(cost);
      }

      function updateVolumeUpgrade(id, cost, level) {
        const btn = document.getElementById(id + '-btn');
        const costEl = document.getElementById(id + '-cost');
        const levelEl = document.getElementById(id + '-level');
        
        costEl.textContent = formatNumber(cost);
        levelEl.textContent = formatNumber(level);
        btn.disabled = gameState.volume.lt(cost);
      }

      function updateSpeakerUpgrade(id, cost, level) {
        const btn = document.getElementById(id + '-btn');
        const costEl = document.getElementById(id + '-cost');
        const levelEl = document.getElementById(id + '-level');
        
        costEl.textContent = formatNumber(cost);
        levelEl.textContent = formatNumber(level);
        btn.disabled = gameState.speakers.lt(cost);
      }

      function updateInfinityUpgrade(id, cost, level) {
        const btn = document.getElementById(id + '-btn');
        const costEl = document.getElementById(id + '-cost');
        const levelEl = document.getElementById(id + '-level');
        
        costEl.textContent = formatNumber(cost);
        levelEl.textContent = formatNumber(level);
        btn.disabled = gameState.infinity.lt(cost);
      }

      // Typing effect for infinity popup
      function typeWriter(element, text, speed, callback) {
        let i = 0;
        element.textContent = '';
        
        function type() {
          if (i < text.length) {
            element.textContent += text.charAt(i);
            i++;
            setTimeout(type, speed);
          } else if (callback) {
            callback();
          }
        }
        type();
      }

      // Trigger infinity
      function triggerInfinity() {
        const popup = document.getElementById('popup-infinity');
        const typingText = document.getElementById('typing-text');
        const okBtn = document.getElementById('infinity-ok-btn');
        
        okBtn.classList.add('hidden');
        popup.classList.add('visible');
        
        const message = "The Reality has collapsed due to so much hertz being made, the infinite being named 'Nal' has reset you for faster progression.";
        
        typeWriter(typingText, message, 50, () => {
          okBtn.classList.remove('hidden');
        });
      }

      // Accept infinity
      function acceptInfinity() {
        const gain = calculateInfinityGain();
        gameState.infinity = gameState.infinity.plus(gain.max(1));
        gameState.infinityUnlocked = true;
        
        // Full reset
        gameState.hz = new Decimal(0);
        gameState.volume = new Decimal(0);
        gameState.speakers = new Decimal(0);
        
        // Reset all upgrades
        gameState.upgrade1Level = new Decimal(0);
        gameState.upgrade1Cost = new Decimal(7);
        gameState.upgrade2Level = new Decimal(0);
        gameState.upgrade2Cost = new Decimal(100);
        gameState.upgrade3Level = new Decimal(0);
        gameState.upgrade3Cost = new Decimal(500);
        gameState.upgrade4Level = new Decimal(0);
        gameState.upgrade4Cost = new Decimal(2500);
        gameState.upgrade5Level = new Decimal(0);
        gameState.upgrade5Cost = new Decimal(10000);
        gameState.upgrade6Level = new Decimal(0);
        gameState.upgrade6Cost = new Decimal(50000);
        
        gameState.volumeUpgrade1 = new Decimal(0);
        gameState.volumeUpgrade2 = new Decimal(0);
        gameState.volumeUpgrade3 = new Decimal(0);
        gameState.volumeUpgrade4 = new Decimal(0);
        gameState.volumeUpgrade5 = new Decimal(0);
        gameState.volumeUpgrade6 = new Decimal(0);
        
        gameState.speakerUpgrade1 = new Decimal(0);
        gameState.speakerUpgrade2 = new Decimal(0);
        gameState.speakerUpgrade3 = new Decimal(0);
        gameState.speakerUpgrade4 = new Decimal(0);
        gameState.speakerUpgrade5 = new Decimal(0);
        gameState.speakerUpgrade6 = new Decimal(0);
        gameState.speakerUpgrade7 = new Decimal(0);
        
        document.getElementById('popup-infinity').classList.remove('visible');
        updateDisplay();
        saveGame();
        
        showPopup(`Reality Collapsed! +${formatNumber(gain.max(1))} Infinity`, 'achievement');
      }

      // Check achievements
      function checkAchievements() {
        if (gameState.hz.gte(1) && !gameState.achievements.ach1) {
          unlockAchievement('ach1', 'First Hertz');
        }
        if (gameState.hz.gte(100) && !gameState.achievements.ach2) {
          unlockAchievement('ach2', 'Frequency Rising');
        }
        if (gameState.hz.gte(10000) && !gameState.achievements.ach3) {
          unlockAchievement('ach3', 'Sonic Boom');
        }
        if (gameState.volumeUnlocked && !gameState.achievements.ach4) {
          unlockAchievement('ach4', 'Turn It Up!');
        }
        if (gameState.speakersUnlocked && !gameState.achievements.ach5) {
          unlockAchievement('ach5', 'Sound System');
        }
        if (gameState.speakers.gte(10) && !gameState.achievements.ach6) {
          unlockAchievement('ach6', 'Concert Hall');
        }
        if (gameState.infinityUnlocked && !gameState.achievements.ach7) {
          unlockAchievement('ach7', 'Reality Breaker');
        }
        
        // Update achievement display
        Object.keys(gameState.achievements).forEach(key => {
          const el = document.getElementById(key);
          if (gameState.achievements[key]) {
            el.classList.add('completed');
          }
        });
      }

      function unlockAchievement(id, name) {
        gameState.achievements[id] = true;
        showPopup(`Achievement Unlocked: ${name}!`, 'achievement');
      }

      function showPopup(message, type = 'info') {
        const popup = document.getElementById('popup');
        popup.textContent = message;
        popup.classList.add('visible');
        popup.style.background = type === 'achievement' 
          ? 'linear-gradient(135deg, #10b981 0%, #34d399 100%)' 
          : 'rgba(0,0,0,0.9)';
        popup.style.color = type === 'achievement' ? '#000' : '#fff';
        setTimeout(() => popup.classList.remove('visible'), 3000);
      }

      // Game loop
      function gameLoop() {
        gameState.hz = gameState.hz.plus(gameState.hzPerSec.div(30));
        updateDisplay();
      }

      // Buy upgrades
      function buyUpgrade(upgradeNum) {
        const costKey = `upgrade${upgradeNum}Cost`;
        const levelKey = `upgrade${upgradeNum}Level`;
        
        if (gameState.hz.gte(gameState[costKey])) {
          gameState.hz = gameState.hz.minus(gameState[costKey]);
          gameState[levelKey] = gameState[levelKey].plus(1);
          gameState[costKey] = gameState[costKey].times(upgradeNum === 1 ? 2 : upgradeNum === 2 ? 2.5 : upgradeNum === 3 ? 3 : upgradeNum === 4 ? 4 : upgradeNum === 5 ? 5 : 6);
          updateDisplay();
        }
      }

      function buyVolumeUpgrade(upgradeNum) {
        const levelKey = `volumeUpgrade${upgradeNum}`;
        const cost = new Decimal(upgradeNum === 1 ? 10 : upgradeNum === 2 ? 25 : upgradeNum === 3 ? 50 : upgradeNum === 4 ? 100 : upgradeNum === 5 ? 250 : 500)
          .times(Decimal.pow(upgradeNum === 1 ? 5 : upgradeNum === 2 ? 10 : upgradeNum === 3 ? 20 : upgradeNum === 4 ? 50 : upgradeNum === 5 ? 100 : 250, gameState[levelKey]));
        
        if (gameState.volume.gte(cost)) {
          gameState.volume = gameState.volume.minus(cost);
          gameState[levelKey] = gameState[levelKey].plus(1);
          updateDisplay();
        }
      }

      function buySpeakerUpgrade(upgradeNum) {
        const levelKey = `speakerUpgrade${upgradeNum}`;
        const cost = new Decimal(upgradeNum === 1 ? 5 : upgradeNum === 2 ? 10 : upgradeNum === 3 ? 20 : upgradeNum === 4 ? 50 : upgradeNum === 5 ? 100 : upgradeNum === 6 ? 250 : 1000)
          .times(Decimal.pow(upgradeNum === 1 ? 10 : upgradeNum === 2 ? 25 : upgradeNum === 3 ? 50 : upgradeNum === 4 ? 100 : upgradeNum === 5 ? 200 : upgradeNum === 6 ? 500 : 1000, gameState[levelKey]));
        
        if (gameState.speakers.gte(cost)) {
          gameState.speakers = gameState.speakers.minus(cost);
          gameState[levelKey] = gameState[levelKey].plus(1);
          updateDisplay();
        }
      }

      function buyInfinityUpgrade(upgradeNum) {
        const levelKey = `infinityUpgrade${upgradeNum}`;
        const cost = new Decimal(upgradeNum).times(Decimal.pow(upgradeNum * 5, gameState[levelKey]));
        
        if (gameState.infinity.gte(cost)) {
          gameState.infinity = gameState.infinity.minus(cost);
          gameState[levelKey] = gameState[levelKey].plus(1);
          updateDisplay();
        }
      }

      // Prestige functions
      function prestigeVolume() {
        const gain = calculateVolumeGain();
        if (gain.gte(1) || (!gameState.volumeUnlocked && gameState.hz.gte(1000000))) {
          gameState.volume = gameState.volume.plus(gain);
          gameState.volumeUnlocked = true;
          
          // Reset Hz stuff
          gameState.hz = new Decimal(0);
          gameState.upgrade1Level = new Decimal(0);
          gameState.upgrade1Cost = new Decimal(7);
          gameState.upgrade2Level = new Decimal(0);
          gameState.upgrade2Cost = new Decimal(100);
          gameState.upgrade3Level = new Decimal(0);
          gameState.upgrade3Cost = new Decimal(500);
          gameState.upgrade4Level = new Decimal(0);
          gameState.upgrade4Cost = new Decimal(2500);
          gameState.upgrade5Level = new Decimal(0);
          gameState.upgrade5Cost = new Decimal(10000);
          gameState.upgrade6Level = new Decimal(0);
          gameState.upgrade6Cost = new Decimal(50000);
          
          showPopup(`Prestiged! +${formatNumber(gain)} Volume`, 'achievement');
          updateDisplay();
        }
      }

      function prestigeSpeaker() {
        const gain = calculateSpeakerGain();
        if (gain.gte(1) || (!gameState.speakersUnlocked && gameState.volume.gte(100))) {
          gameState.speakers = gameState.speakers.plus(gain);
          gameState.speakersUnlocked = true;
          
          // Reset everything below
          gameState.volume = new Decimal(0);
          gameState.volumeUpgrade1 = new Decimal(0);
          gameState.volumeUpgrade2 = new Decimal(0);
          gameState.volumeUpgrade3 = new Decimal(0);
          gameState.volumeUpgrade4 = new Decimal(0);
          gameState.volumeUpgrade5 = new Decimal(0);
          gameState.volumeUpgrade6 = new Decimal(0);
          
          gameState.hz = new Decimal(0);
          gameState.upgrade1Level = new Decimal(0);
          gameState.upgrade1Cost = new Decimal(7);
          gameState.upgrade2Level = new Decimal(0);
          gameState.upgrade2Cost = new Decimal(100);
          gameState.upgrade3Level = new Decimal(0);
          gameState.upgrade3Cost = new Decimal(500);
          gameState.upgrade4Level = new Decimal(0);
          gameState.upgrade4Cost = new Decimal(2500);
          gameState.upgrade5Level = new Decimal(0);
          gameState.upgrade5Cost = new Decimal(10000);
          gameState.upgrade6Level = new Decimal(0);
          gameState.upgrade6Cost = new Decimal(50000);
          
          showPopup(`Mega Prestige! +${formatNumber(gain)} Speakers`, 'achievement');
          updateDisplay();
        }
      }

      // Save/Load
      function saveGame() {
        const saveObj = {};
        Object.keys(gameState).forEach(key => {
          if (gameState[key] instanceof Decimal) {
            saveObj[key] = gameState[key].toString();
          } else {
            saveObj[key] = gameState[key];
          }
        });
        localStorage.setItem('hzGameSave', JSON.stringify(saveObj));
        showPopup('Game Saved!');
      }

      function loadGame() {
        const input = document.getElementById('save-input').value;
        try {
          const parsed = JSON.parse(input);
          Object.keys(parsed).forEach(key => {
            if (key === 'achievements') {
              gameState.achievements = parsed.achievements;
            } else if (key === 'theme') {
              gameState.theme = parsed.theme;
              applyTheme(gameState.theme);
            } else if (typeof gameState[key] !== 'undefined') {
              gameState[key] = new Decimal(parsed[key]);
            }
          });
          updateDisplay();
          saveGame();
          document.getElementById('popup2').classList.remove('visible');
          showPopup('Game Loaded!');
        } catch (e) {
          showPopup('Invalid save data!');
        }
      }

      function exportSave() {
        const data = localStorage.getItem('hzGameSave');
        navigator.clipboard.writeText(data);
        showPopup('Save copied to clipboard!');
      }

      function downloadSave() {
        const data = localStorage.getItem('hzGameSave');
        const blob = new Blob([data], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'hertz_save.json';
        a.click();
        showPopup('Save downloaded!');
      }

      function resetGame() {
        if (confirm('Are you sure? This will delete ALL progress!')) {
          localStorage.removeItem('hzGameSave');
          location.reload();
        }
      }

      // Theme system
      function applyTheme(theme) {
        const body = document.body;
        const themes = ['red', 'orange', 'yellow', 'green', 'blue', 'purple', 'pink', 'brown', 'black', 'white'];
        themes.forEach(t => body.classList.remove(`theme-${t}`));
        body.classList.add(`theme-${theme}`);
        
        // Update active theme button
        document.querySelectorAll('.theme-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        document.getElementById(`theme-${theme}`).classList.add('active');
      }

      function changeTheme(theme) {
        gameState.theme = theme;
        applyTheme(theme);
        saveGame();
        document.getElementById('popup-theme').classList.remove('visible');
      }

      // Tab system
      function switchTab(tabName) {
        document.querySelectorAll('.tab').forEach(tab => {
          tab.classList.remove('bg-white', 'bg-green-500', 'bg-orange-500', 'bg-blue-500', 'bg-purple-500', 'bg-teal-500', 'bg-pink-500', 'text-black');
          tab.classList.add('text-gray-300', 'bg-gray-800');
        });
        
        document.querySelectorAll('.content').forEach(content => {
          content.classList.add('hidden');
        });
        
        const activeTab = document.getElementById(`tab-${tabName}`);
        const color = activeTab.dataset.color;
        activeTab.classList.remove('text-gray-300', 'bg-gray-800');
        activeTab.classList.add(color, 'text-black');
        
        document.getElementById(`${tabName}-content`).classList.remove('hidden');
      }

      // Event listeners
      for (let i = 1; i <= 6; i++) {
        document.getElementById(`upgrade${i}-btn`).addEventListener('click', () => buyUpgrade(i));
      }
      
      for (let i = 1; i <= 6; i++) {
        document.getElementById(`vol-up${i}-btn`).addEventListener('click', () => buyVolumeUpgrade(i));
      }
      
      for (let i = 1; i <= 7; i++) {
        document.getElementById(`spk-up${i}-btn`).addEventListener('click', () => buySpeakerUpgrade(i));
      }

      for (let i = 1; i <= 14; i++) {
        document.getElementById(`inf-up${i}-btn`).addEventListener('click', () => buyInfinityUpgrade(i));
      }

      document.getElementById('prestige-volume-btn').addEventListener('click', prestigeVolume);
      document.getElementById('prestige-speaker-btn').addEventListener('click', prestigeSpeaker);
      document.getElementById('infinity-ok-btn').addEventListener('click', acceptInfinity);
      
      document.getElementById('save-button').addEventListener('click', saveGame);
      document.getElementById('load-button').addEventListener('click', () => {
        document.getElementById('popup2').classList.add('visible');
      });
      document.getElementById('submit-load').addEventListener('click', loadGame);
      document.getElementById('cancel-load').addEventListener('click', () => {
        document.getElementById('popup2').classList.remove('visible');
      });
      document.getElementById('export-button').addEventListener('click', exportSave);
      document.getElementById('download-button').addEventListener('click', downloadSave);
      document.getElementById('reset-button').addEventListener('click', resetGame);
      
      document.getElementById('theme-button').addEventListener('click', () => {
        document.getElementById('popup-theme').classList.add('visible');
      });
      document.getElementById('close-theme').addEventListener('click', () => {
        document.getElementById('popup-theme').classList.remove('visible');
      });

      // Theme buttons
      const themes = ['red', 'orange', 'yellow', 'green', 'blue', 'purple', 'pink', 'brown', 'black', 'white'];
      themes.forEach(theme => {
        document.getElementById(`theme-${theme}`).addEventListener('click', () => changeTheme(theme));
      });

      // Tab buttons
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', function() {
          const contentName = this.id.replace('tab-', '');
          switchTab(contentName);
        });
      });

      // Start game loop
      setInterval(gameLoop, 1000 / 30);
      setInterval(saveGame, 30000); // Auto-save every 30 seconds
      
      updateDisplay();
    });
  </script>
</head>

<body class="theme-black font-sans h-screen overflow-hidden">
  <div class="flex h-full">
    <!-- Sidebar -->
    <div class="w-1/5 bg-black bg-opacity-50 p-6 flex flex-col justify-center space-y-3 border-r-2 border-white border-opacity-20">
      <div id="tab-hz" class="tab text-4xl font-bold text-black bg-white p-4 cursor-pointer rounded-lg border-2 border-white" data-color="bg-white">
        <i class="fas fa-bolt"></i> Hz
      </div>

      <div id="tab-volume" class="tab text-lg text-gray-300 bg-gray-800 p-4 cursor-pointer rounded-lg border-2 border-purple-500 hidden" data-color="bg-purple-500">
        <i class="fas fa-volume-up"></i> Volume
      </div>

      <div id="tab-speakers" class="tab text-lg text-gray-300 bg-gray-800 p-4 cursor-pointer rounded-lg border-2 border-teal-500 hidden" data-color="bg-teal-500">
        <i class="fas fa-broadcast-tower"></i> Speakers
      </div>

      <div id="tab-infinity" class="tab text-lg text-gray-300 bg-gray-800 p-4 cursor-pointer rounded-lg border-2 border-pink-500 hidden" data-color="bg-pink-500">
        <i class="fas fa-infinity"></i> Infinity
      </div>

      <div id="tab-achievements" class="tab text-lg text-gray-300 bg-gray-800 p-4 cursor-pointer rounded-lg border-2 border-green-500" data-color="bg-green-500">
        <i class="fas fa-trophy"></i> Achievements
      </div>

      <div id="tab-settings" class="tab text-lg text-gray-300 bg-gray-800 p-4 cursor-pointer rounded-lg border-2 border-orange-500" data-color="bg-orange-500">
        <i class="fas fa-cog"></i> Settings
      </div>

      <div id="tab-changelog" class="tab text-lg text-gray-300 bg-gray-800 p-4 cursor-pointer rounded-lg border-2 border-blue-500" data-color="bg-blue-500">
        <i class="fas fa-list"></i> Changelog
      </div>
    </div>

    <!-- Main Content -->
    <div class="flex-1 p-8 scrollable-content">
      <!-- Hz Tab -->
      <div id="hz-content" class="content">
        <div class="stat-display text-center">
          <div class="text-3xl mb-2 text-secondary">You Have</div>
          <div id="hz-display" class="text-7xl font-bold mb-4 text-primary">0 Hz</div>
          <div id="gain-display" class="text-2xl text-secondary">1 Hz/s</div>
        </div>

        <div class="grid-upgrades">
          <!-- Upgrade 1 -->
          <div class="upgrade-card">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-arrow-up"></i> Double Production</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 2 (softcapped at 100)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="upgrade1-cost" class="text-yellow-400">7</span> Hz</div>
                <div class="text-sm text-secondary">Level: <span id="upgrade1-level">0</span></div>
              </div>
              <button id="upgrade1-btn" class="upgrade-btn border-yellow-400 text-yellow-400">BUY</button>
            </div>
          </div>

          <!-- Upgrade 2 -->
          <div class="upgrade-card">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-fire"></i> Power Boost</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 1.25 (softcapped at 80)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="upgrade2-cost" class="text-orange-400">100</span> Hz</div>
                <div class="text-sm text-secondary">Level: <span id="upgrade2-level">0</span></div>
              </div>
              <button id="upgrade2-btn" class="upgrade-btn border-orange-400 text-orange-400">BUY</button>
            </div>
          </div>

          <!-- Upgrade 3 -->
          <div class="upgrade-card">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-rocket"></i> Frequency Surge</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 1.5 (softcapped at 60)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="upgrade3-cost" class="text-red-400">500</span> Hz</div>
                <div class="text-sm text-secondary">Level: <span id="upgrade3-level">0</span></div>
              </div>
              <button id="upgrade3-btn" class="upgrade-btn border-red-400 text-red-400">BUY</button>
            </div>
          </div>

          <!-- Upgrade 4 -->
          <div class="upgrade-card">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-star"></i> Harmonic Resonance</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 2 (softcapped at 50)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="upgrade4-cost" class="text-green-400">2500</span> Hz</div>
                <div class="text-sm text-secondary">Level: <span id="upgrade4-level">0</span></div>
              </div>
              <button id="upgrade4-btn" class="upgrade-btn border-green-400 text-green-400">BUY</button>
            </div>
          </div>

          <!-- Upgrade 5 -->
          <div class="upgrade-card">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-chart-line"></i> Wave Amplifier</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 3 (softcapped at 40)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="upgrade5-cost" class="text-blue-400">10000</span> Hz</div>
                <div class="text-sm text-secondary">Level: <span id="upgrade5-level">0</span></div>
              </div>
              <button id="upgrade5-btn" class="upgrade-btn border-blue-400 text-blue-400">BUY</button>
            </div>
          </div>

          <!-- Upgrade 6 -->
          <div class="upgrade-card">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-crown"></i> Sonic Overdrive</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 5 (softcapped at 30)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="upgrade6-cost" class="text-purple-400">50000</span> Hz</div>
                <div class="text-sm text-secondary">Level: <span id="upgrade6-level">0</span></div>
              </div>
              <button id="upgrade6-btn" class="upgrade-btn border-purple-400 text-purple-400">BUY</button>
            </div>
          </div>
        </div>

        <!-- Volume Prestige -->
        <div class="stat-display mt-8 bg-purple-900 bg-opacity-30 border-purple-500">
          <div class="text-3xl font-bold mb-4 text-purple-400"><i class="fas fa-volume-up"></i> VOLUME PRESTIGE</div>
          <div class="text-xl mb-4 text-secondary">Reset Hz upgrades to gain <span id="volume-gain-display" class="text-purple-300 font-bold">0</span> Volume</div>
          <div class="text-lg mb-4 text-secondary">Requirement: 1,000,000 Hz (first time) or gain at least 1 Volume</div>
          <button id="prestige-volume-btn" class="prestige-btn">TURN UP THE VOLUME</button>
        </div>
      </div>

      <!-- Volume Tab -->
      <div id="volume-content" class="content hidden">
        <div class="stat-display text-center">
          <div class="text-3xl mb-2 text-secondary"><i class="fas fa-volume-up"></i> Volume</div>
          <div id="volume-display" class="text-7xl font-bold mb-4 text-purple-400">0</div>
          <div class="text-2xl text-secondary">Hz Boost: <span id="volume-boost" class="text-purple-300">1x</span></div>
          <div id="volume-nerfs" class="nerf-indicator hidden"></div>
        </div>

        <div class="grid-upgrades">
          <!-- Volume Upgrade 1 -->
          <div class="upgrade-card border-purple-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-plus-circle"></i> Volume Power</div>
            <div class="text-sm mb-3 text-secondary">Boost Volume effect by 1.5x</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="vol-up1-cost" class="text-purple-400">10</span> Volume</div>
                <div class="text-sm text-secondary">Level: <span id="vol-up1-level">0</span></div>
              </div>
              <button id="vol-up1-btn" class="upgrade-btn border-purple-400 text-purple-400">BUY</button>
            </div>
          </div>

          <!-- Volume Upgrade 2 -->
          <div class="upgrade-card border-purple-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-gem"></i> Volume Multiplier</div>
            <div class="text-sm mb-3 text-secondary">Double Volume gain on prestige</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="vol-up2-cost" class="text-purple-400">25</span> Volume</div>
                <div class="text-sm text-secondary">Level: <span id="vol-up2-level">0</span></div>
              </div>
              <button id="vol-up2-btn" class="upgrade-btn border-purple-400 text-purple-400">BUY</button>
            </div>
          </div>

          <!-- Volume Upgrade 3 -->
          <div class="upgrade-card border-purple-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-bolt"></i> Resonant Frequency</div>
            <div class="text-sm mb-3 text-secondary">Double Hz production directly</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="vol-up3-cost" class="text-purple-400">50</span> Volume</div>
                <div class="text-sm text-secondary">Level: <span id="vol-up3-level">0</span></div>
              </div>
              <button id="vol-up3-btn" class="upgrade-btn border-purple-400 text-purple-400">BUY</button>
            </div>
          </div>

          <!-- Volume Upgrade 4 -->
          <div class="upgrade-card border-purple-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-compress-arrows-alt"></i> Compression</div>
            <div class="text-sm mb-3 text-secondary">Improve Hz upgrade efficiency</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="vol-up4-cost" class="text-purple-400">100</span> Volume</div>
                <div class="text-sm text-secondary">Level: <span id="vol-up4-level">0</span></div>
              </div>
              <button id="vol-up4-btn" class="upgrade-btn border-purple-400 text-purple-400">BUY</button>
            </div>
          </div>

          <!-- Volume Upgrade 5 -->
          <div class="upgrade-card border-purple-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-infinity"></i> Logarithmic Scale</div>
            <div class="text-sm mb-3 text-secondary">Hz boost based on current Hz (log formula)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="vol-up5-cost" class="text-purple-400">250</span> Volume</div>
                <div class="text-sm text-secondary">Level: <span id="vol-up5-level">0</span></div>
              </div>
              <button id="vol-up5-btn" class="upgrade-btn border-purple-400 text-purple-400">BUY</button>
            </div>
          </div>

          <!-- Volume Upgrade 6 -->
          <div class="upgrade-card border-purple-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-magic"></i> Perfect Pitch</div>
            <div class="text-sm mb-3 text-secondary">Unlock advanced resonance patterns</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="vol-up6-cost" class="text-purple-400">500</span> Volume</div>
                <div class="text-sm text-secondary">Level: <span id="vol-up6-level">0</span></div>
              </div>
              <button id="vol-up6-btn" class="upgrade-btn border-purple-400 text-purple-400">BUY</button>
            </div>
          </div>
        </div>

        <!-- Speaker Prestige -->
        <div id="speaker-prestige-section" class="stat-display mt-8 bg-teal-900 bg-opacity-30 border-teal-500 hidden">
          <div class="text-3xl font-bold mb-4 text-teal-400"><i class="fas fa-broadcast-tower"></i> SPEAKER PRESTIGE</div>
          <div class="text-xl mb-4 text-secondary">Reset Volume & Hz to gain <span id="speaker-gain-display" class="text-teal-300 font-bold">0</span> Speakers</div>
          <div class="text-lg mb-4 text-secondary">Requirement: 100 Volume (first time) or gain at least 1 Speaker</div>
          <button id="prestige-speaker-btn" class="prestige-btn bg-gradient-to-br from-teal-500 to-cyan-500 border-teal-400">AMPLIFY WITH SPEAKERS</button>
        </div>
      </div>

      <!-- Speakers Tab -->
      <div id="speakers-content" class="content hidden">
        <div class="stat-display text-center">
          <div class="text-3xl mb-2 text-secondary"><i class="fas fa-broadcast-tower"></i> Speakers</div>
          <div id="speakers-display" class="text-7xl font-bold mb-4 text-teal-400">0</div>
          <div class="text-2xl text-secondary">Hz Boost: <span id="speakers-boost" class="text-teal-300">1x</span></div>
          <div id="speaker-nerfs" class="nerf-indicator hidden"></div>
        </div>

        <div class="grid-upgrades">
          <!-- Speaker Upgrade 1 -->
          <div class="upgrade-card border-teal-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-volume-up"></i> Speaker Amplification</div>
            <div class="text-sm mb-3 text-secondary">Double Speaker boost effect</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="spk-up1-cost" class="text-teal-400">5</span> Speakers</div>
                <div class="text-sm text-secondary">Level: <span id="spk-up1-level">0</span></div>
              </div>
              <button id="spk-up1-btn" class="upgrade-btn border-teal-400 text-teal-400">BUY</button>
            </div>
          </div>

          <!-- Speaker Upgrade 2 -->
          <div class="upgrade-card border-teal-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-layer-group"></i> Volume Enhancement</div>
            <div class="text-sm mb-3 text-secondary">Boost Volume gain by 1.5x</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="spk-up2-cost" class="text-teal-400">10</span> Speakers</div>
                <div class="text-sm text-secondary">Level: <span id="spk-up2-level">0</span></div>
              </div>
              <button id="spk-up2-btn" class="upgrade-btn border-teal-400 text-teal-400">BUY</button>
            </div>
          </div>

          <!-- Speaker Upgrade 3 -->
          <div class="upgrade-card border-teal-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-tachometer-alt"></i> Triple Hz Power</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 3 directly</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="spk-up3-cost" class="text-teal-400">20</span> Speakers</div>
                <div class="text-sm text-secondary">Level: <span id="spk-up3-level">0</span></div>
              </div>
              <button id="spk-up3-btn" class="upgrade-btn border-teal-400 text-teal-400">BUY</button>
            </div>
          </div>

          <!-- Speaker Upgrade 4 -->
          <div class="upgrade-card border-teal-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-sync-alt"></i> Feedback Loop</div>
            <div class="text-sm mb-3 text-secondary">Volume gain scales with Speakers</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="spk-up4-cost" class="text-teal-400">50</span> Speakers</div>
                <div class="text-sm text-secondary">Level: <span id="spk-up4-level">0</span></div>
              </div>
              <button id="spk-up4-btn" class="upgrade-btn border-teal-400 text-teal-400">BUY</button>
            </div>
          </div>

          <!-- Speaker Upgrade 5 -->
          <div class="upgrade-card border-teal-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-atom"></i> Volume Synergy</div>
            <div class="text-sm mb-3 text-secondary">Hz boost based on Volume amount</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="spk-up5-cost" class="text-teal-400">100</span> Speakers</div>
                <div class="text-sm text-secondary">Level: <span id="spk-up5-level">0</span></div>
              </div>
              <button id="spk-up5-btn" class="upgrade-btn border-teal-400 text-teal-400">BUY</button>
            </div>
          </div>

          <!-- Speaker Upgrade 6 -->
          <div class="upgrade-card border-teal-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-recycle"></i> Efficient Prestige</div>
            <div class="text-sm mb-3 text-secondary">Double Speaker gain on prestige</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="spk-up6-cost" class="text-teal-400">250</span> Speakers</div>
                <div class="text-sm text-secondary">Level: <span id="spk-up6-level">0</span></div>
              </div>
              <button id="spk-up6-btn" class="upgrade-btn border-teal-400 text-teal-400">BUY</button>
            </div>
          </div>

          <!-- Speaker Upgrade 7 -->
          <div class="upgrade-card border-teal-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-star"></i> Megaphone</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 10 (MEGA BOOST!)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="spk-up7-cost" class="text-teal-400">1000</span> Speakers</div>
                <div class="text-sm text-secondary">Level: <span id="spk-up7-level">0</span></div>
              </div>
              <button id="spk-up7-btn" class="upgrade-btn border-teal-400 text-teal-400">BUY</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Infinity Tab -->
      <div id="infinity-content" class="content hidden">
        <div class="stat-display text-center">
          <div class="text-3xl mb-2 text-secondary"><i class="fas fa-infinity"></i> Infinity</div>
          <div id="infinity-display" class="text-7xl font-bold mb-4 infinity-text">0</div>
          <div class="text-2xl text-secondary">Hz Boost: <span id="infinity-boost" class="infinity-text">1x</span></div>
          <div class="text-lg mt-4 text-secondary">Granted by Nal, the Infinite Being</div>
        </div>

        <div class="grid-upgrades">
          <!-- Infinity Upgrade 1 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-rocket"></i> Nal's Blessing</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 10</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up1-cost" class="infinity-text">1</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up1-level">0</span></div>
              </div>
              <button id="inf-up1-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 2 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-volume-up"></i> Volume Acceleration</div>
            <div class="text-sm mb-3 text-secondary">Multiply Volume gain by 5</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up2-cost" class="infinity-text">2</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up2-level">0</span></div>
              </div>
              <button id="inf-up2-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 3 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-infinity"></i> Self-Synergy</div>
            <div class="text-sm mb-3 text-secondary">Hz boost based on Infinity (^0.5 per level)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up3-cost" class="infinity-text">3</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up3-level">0</span></div>
              </div>
              <button id="inf-up3-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 4 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-broadcast-tower"></i> Speaker Boost</div>
            <div class="text-sm mb-3 text-secondary">Multiply Speaker gain by 10</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up4-cost" class="infinity-text">4</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up4-level">0</span></div>
              </div>
              <button id="inf-up4-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 5 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-layer-group"></i> Cross-Layer</div>
            <div class="text-sm mb-3 text-secondary">Hz boost based on Speakers (log formula)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up5-cost" class="infinity-text">5</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up5-level">0</span></div>
              </div>
              <button id="inf-up5-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 6 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-compress"></i> Volume Compression</div>
            <div class="text-sm mb-3 text-secondary">Volume gain scales with Infinity</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up6-cost" class="infinity-text">6</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up6-level">0</span></div>
              </div>
              <button id="inf-up6-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 7 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-chart-line"></i> Hz Scaling</div>
            <div class="text-sm mb-3 text-secondary">Hz boost based on current Hz (log^0.5)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up7-cost" class="infinity-text">7</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up7-level">0</span></div>
              </div>
              <button id="inf-up7-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 8 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-users"></i> Speaker Synergy</div>
            <div class="text-sm mb-3 text-secondary">Speaker gain scales with Infinity (^0.75)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up8-cost" class="infinity-text">8</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up8-level">0</span></div>
              </div>
              <button id="inf-up8-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 9 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-fire"></i> Reality Warp</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 100 (INSANE!)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up9-cost" class="infinity-text">9</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up9-level">0</span></div>
              </div>
              <button id="inf-up9-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 10 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-meteor"></i> Volume Meteor</div>
            <div class="text-sm mb-3 text-secondary">Multiply Volume gain by 50</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up10-cost" class="infinity-text">10</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up10-level">0</span></div>
              </div>
              <button id="inf-up10-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 11 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-atom"></i> Perfect Harmony</div>
            <div class="text-sm mb-3 text-secondary">Hz boost from Volume × Speakers (^0.2)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up11-cost" class="infinity-text">11</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up11-level">0</span></div>
              </div>
              <button id="inf-up11-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 12 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-asterisk"></i> Speaker Storm</div>
            <div class="text-sm mb-3 text-secondary">Multiply Speaker gain by 25</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up12-cost" class="infinity-text">12</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up12-level">0</span></div>
              </div>
              <button id="inf-up12-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 13 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-crown"></i> Nal's Gift</div>
            <div class="text-sm mb-3 text-secondary">Multiply Hz/s by 1000 (GODLIKE!)</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up13-cost" class="infinity-text">13</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up13-level">0</span></div>
              </div>
              <button id="inf-up13-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>

          <!-- Infinity Upgrade 14 -->
          <div class="upgrade-card border-pink-400">
            <div class="text-2xl font-bold mb-2 text-primary"><i class="fas fa-redo"></i> Eternal Loop</div>
            <div class="text-sm mb-3 text-secondary">Double Infinity gain on collapse</div>
            <div class="flex justify-between items-center">
              <div>
                <div class="text-lg text-secondary">Cost: <span id="inf-up14-cost" class="infinity-text">14</span> Infinity</div>
                <div class="text-sm text-secondary">Level: <span id="inf-up14-level">0</span></div>
              </div>
              <button id="inf-up14-btn" class="upgrade-btn border-pink-400 text-pink-400">BUY</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Achievements Tab -->
      <div id="achievements-content" class="content hidden">
        <div class="stat-display">
          <div class="text-3xl font-bold mb-6 text-center text-primary"><i class="fas fa-trophy"></i> ACHIEVEMENTS</div>
          <div class="achievement" id="ach1">First Hertz - Reach 1 Hz</div>
          <div class="achievement" id="ach2">Frequency Rising - Reach 100 Hz</div>
          <div class="achievement" id="ach3">Sonic Boom - Reach 10,000 Hz</div>
          <div class="achievement" id="ach4">Turn It Up! - Unlock Volume</div>
          <div class="achievement" id="ach5">Sound System - Unlock Speakers</div>
          <div class="achievement" id="ach6">Concert Hall - Reach 10 Speakers</div>
          <div class="achievement" id="ach7">Reality Breaker - Meet Nal and Unlock Infinity</div>
        </div>
      </div>

      <!-- Settings Tab -->
      <div id="settings-content" class="content hidden">
        <div class="stat-display">
          <div class="text-3xl font-bold mb-6 text-primary"><i class="fas fa-cog"></i> SETTINGS</div>
          
          <div class="space-y-4">
            <button id="save-button" class="upgrade-btn border-green-400 text-green-400 w-full">
              <i class="fas fa-save"></i> SAVE GAME
            </button>
            
            <button id="load-button" class="upgrade-btn border-blue-400 text-blue-400 w-full">
              <i class="fas fa-upload"></i> LOAD SAVE
            </button>
            
            <button id="export-button" class="upgrade-btn border-yellow-400 text-yellow-400 w-full">
              <i class="fas fa-copy"></i> COPY SAVE TO CLIPBOARD
            </button>
            
            <button id="download-button" class="upgrade-btn border-purple-400 text-purple-400 w-full">
              <i class="fas fa-download"></i> DOWNLOAD SAVE
            </button>
            
            <button id="theme-button" class="upgrade-btn border-pink-400 text-pink-400 w-full">
              <i class="fas fa-palette"></i> CHANGE THEME
            </button>
            
            <button id="reset-button" class="upgrade-btn border-red-400 text-red-400 w-full">
              <i class="fas fa-trash"></i> HARD RESET
            </button>
          </div>
        </div>
      </div>

      <!-- Changelog Tab -->
      <div id="changelog-content" class="content hidden">
        <div class="stat-display">
          <div class="text-3xl font-bold mb-6 text-primary"><i class="fas fa-list"></i> CHANGELOG</div>
          
          <div class="space-y-4">
            <div class="upgrade-card border-pink-400">
              <div class="text-2xl font-bold mb-2 text-primary">v0.4.2a - Reality Collapse Update 💥</div>
              <ul class="list-disc list-inside space-y-2 text-secondary">
                <li>NEW: Infinity prestige layer at 1e308 Hz!</li>
                <li>Dramatic reality collapse event with Nal, the Infinite Being</li>
                <li>Typing effect storytelling for infinity trigger</li>
                <li>14 powerful Infinity upgrades with unique mechanics</li>
                <li>Better formulas with softcaps to prevent number explosion</li>
                <li>All numbers now use Break Eternity syntax properly</li>
                <li>5 EXTREME nerfs for Volume gain at high amounts</li>
                <li>5 EXTREME nerfs for Speaker gain at high amounts</li>
                <li>Nerf indicators show when active</li>
                <li>Improved balance across all layers</li>
                <li>New "Reality Breaker" achievement</li>
                <li>Better number formatting</li>
              </ul>
            </div>

            <div class="upgrade-card border-blue-400">
              <div class="text-2xl font-bold mb-2 text-primary">v0.4.1a - Polish Update</div>
              <ul class="list-disc list-inside space-y-2 text-secondary">
                <li>Fixed popup sizes</li>
                <li>Added theme-based text coloring</li>
                <li>Improved UI consistency</li>
              </ul>
            </div>

            <div class="upgrade-card border-purple-400">
              <div class="text-2xl font-bold mb-2 text-primary">v0.4a - The Anniversary Update 🎉</div>
              <ul class="list-disc list-inside space-y-2 text-secondary">
                <li>Complete remaster</li>
                <li>10 beautiful themes</li>
                <li>Volume & Speakers prestige systems</li>
                <li>Modern UI/UX</li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Popups -->
  <div id="popup" class="popup"></div>

  <div id="popup2" class="popup2">
    <div class="text-white text-2xl font-bold mb-4"><i class="fas fa-upload"></i> Load Save</div>
    <input id="save-input" type="text" placeholder="Paste your save here..." class="mt-4 p-3 rounded-lg bg-gray-700 text-white w-full border-2 border-gray-500 focus:border-blue-400 outline-none">
    <div class="flex space-x-4 mt-6">
      <button id="submit-load" class="upgrade-btn border-green-400 text-green-400 flex-1">SUBMIT</button>
      <button id="cancel-load" class="upgrade-btn border-red-400 text-red-400 flex-1">CANCEL</button>
    </div>
  </div>

  <div id="popup-theme" class="popup-theme">
    <div class="text-white text-2xl font-bold mb-6 text-center"><i class="fas fa-palette"></i> Choose Your Theme</div>
    <div class="flex flex-wrap justify-center">
      <div id="theme-red" class="theme-btn" style="background: linear-gradient(135deg, #991b1b, #dc2626);"></div>
      <div id="theme-orange" class="theme-btn" style="background: linear-gradient(135deg, #9a3412, #ea580c);"></div>
      <div id="theme-yellow" class="theme-btn" style="background: linear-gradient(135deg, #854d0e, #eab308);"></div>
      <div id="theme-green" class="theme-btn" style="background: linear-gradient(135deg, #166534, #22c55e);"></div>
      <div id="theme-blue" class="theme-btn" style="background: linear-gradient(135deg, #1e40af, #3b82f6);"></div>
      <div id="theme-purple" class="theme-btn" style="background: linear-gradient(135deg, #6b21a8, #a855f7);"></div>
      <div id="theme-pink" class="theme-btn" style="background: linear-gradient(135deg, #9f1239, #ec4899);"></div>
      <div id="theme-brown" class="theme-btn" style="background: linear-gradient(135deg, #4e342e, #795548);"></div>
      <div id="theme-black" class="theme-btn active" style="background: linear-gradient(135deg, #000000, #374151);"></div>
      <div id="theme-white" class="theme-btn" style="background: linear-gradient(135deg, #e5e5e5, #ffffff);"></div>
    </div>
    <button id="close-theme" class="upgrade-btn border-gray-400 text-gray-400 mt-6 w-full">CLOSE</button>
  </div>

  <div id="popup-infinity" class="popup-infinity">
    <div id="typing-text" class="typing-text"></div>
    <button id="infinity-ok-btn" class="prestige-btn hidden bg-gradient-to-br from-pink-500 to-purple-600">OK</button>
  </div>

  <!-- Version -->
  <div class="version"><i class="fas fa-code"></i> v0.4.2a - Reality Collapse Update</div>
</body>
</html>
